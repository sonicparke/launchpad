"use strict";var app=angular.module("LaunchPad",["restangular","ui.bootstrap","loader","ui.router","app.core"]);app.config(["$stateProvider","$provide","$httpProvider","$tooltipProvider","$urlRouterProvider","$locationProvider",function(t,e,a,l,o){delete a.defaults.headers.common["X-Requested-With"],t.state("applist",{url:"/applist",templateUrl:"app/partials/appList.html",controller:"AppListViewCtrl"}),o.otherwise("applist"),l.options({appendToBody:!0})}]),angular.module("app.core",[]),app.controller("MainCtrl",["$scope",function(t){t.PageTitle="AXC Launch Pad",t.alerts=[],t.closeAlert=function(e){t.alerts.splice(e,1)}}]),app.controller("AppListViewCtrl",["$scope","$location","$http","$timeout","AppSecurity",function(t,e,a,l,o){t.showLoader=!0,t.GetDataItems=[],t.InitPage=function(){},t.GetMenuItems=function(e){return t.itemsResults=o.all("MenuItems").getList(e),t.itemsResults.then(function(e){t.showLoader=!1,t.MenuItems=e})}}]),app.controller("Login",["DataService",function(t){function e(){return console.log("vm.login :",a.login),t.Login(a.login).then(function(t){a.currentUser=t,console.log("vm.currentUser",a.currentUser)})}var a=this;a.Login=e}]),angular.module("loader",[]).directive("ngLoader",function(){return{restrict:"E,A",replace:!0,template:'<span class="ngLoader" style="font-size: 16px; "><i class="fa fa-spinner fa-spin"></i></span>',scope:{showLoader:"=?"},link:function(t){t.showLoader=!0}}}).directive("ngDogLoader",function(){return{restrict:"E,A",replace:!0,template:'<div class="row text-center" ><img class="img-rounded" width:400px height:263px src="http://axcapps.harsco.com/cdn/images/puggle.gif" /><h3>Loading... please wait...</h3></div>',scope:{}}}),app.service("AppSecurity",["Restangular",function(t){var e="http://myapi";return t.withConfig(function(t){t.setBaseUrl(e)})}]),function(){function t(t,e){function a(a){{var l=t.defer(),o=a;e.all("login").post(o).then(function(t){l.resolve(t)})}return l.promise}function l(a){{var l=t.defer(),o={UserName:a};e.all("menuitems").getList(o).then(function(t){l.resolve(t)})}return l.promise}var o={Login:a,GetMenuItems:l};return o}app.factory("DataService",t),t.$inject=["$q","AppSecurity"]}(),angular.module("app.core").run(["$templateCache",function(t){t.put("app/partials/appList.html",'<div ng-init=InitPage()><h1>APP LIST</h1><alert ng-repeat="alert in alerts" type=alert.type close=closeAlert($index)>{{alert.msg}}</alert><section class="menu container"><div ng-dog-loader="" ng-show=showLoader></div><nav class=row><ul class=list-unstyled><li class="col-md-4 col-sm-12" ng-repeat="item in MenuItems"><a class="btn btn-block btn-inverse clearfix" href={{item.Url}} target=_blank><i class="fa fa-{{item.Icon}} fa-3x pull-left"></i><div class=menuText>{{item.Title}}<br><small>{{item.SubTitle}}</small></div></a></li></ul></nav></section></div>'),t.put("app/partials/footer.html",'<footer class="navbar navbar-fixed-bottom"><nav class=container><h4><i class="fa fa-external-link-square fa-white"></i> Helpful Links</h4><ul class="links list-unstyled"><li class=col-md-3><a href=http://helpdesk.harsco.com target=_blank>Submit a Support Ticket</a></li><li class=col-md-3><a href=http://portal.harsco.com target=_blank>Harsco Information Portal</a></li><li class=col-md-3><a href="http://directoryupdate.harsco.com/Main/" target=_blank>Outlook Update Tool</a></li><li class=col-md-3><a href=http://teams.harsco.com/sites/IND/AXC/default.aspx target=_blank>AXC Intranet</a></li><li class=col-md-3><a href=http://axcuscatfiler01/Public/Phone%20List/Phone%20List.xls target=_blank>Phone List</a></li><li class=col-md-3><a href=http://portal.harsco.com/sites/axc/Lists/CreditDebitMemo/AllItems.aspx target=_blank>Credit Debit Memo</a></li></ul></nav><section class="col-md-1 logo"><img src=images/logo-gray.png></section></footer>'),t.put("app/partials/login.html",'<div ng-controller="Login as vm" ng-init=InitPage() class=container><h1>Login</h1><form ng-submit=vm.Login() class=form-horizontal role=form><div class=form-group><label for=inputUsername class="control-label sr-only">Username</label><div class="col-md-12 col-sm-12"><input ng-model=vm.login.UserName name=name type=text class=form-control id=inputName placeholder=Name></div></div><div class=form-group><label for=inputPassword class="control-label sr-only">Password</label><div class="col-md-12 col-sm-12"><input ng-model=vm.login.Password name=password type=password class=form-control id=inputEmail placeholder=Password></div></div><div class=form-group><div class=col-sm-10><button type=submit id=submitButton class="btn btn-default">Sign In</button></div></div></form></div>')}]);